<html>
    <head>

        <link rel="stylesheet" type="text/css" href="css/main.css">

        <script src="bower_components/vue/dist/vue.js"></script>
        <script src="bower_components/vue-resource/dist/vue-resource.min.js"></script>
        <script src="bower_components/autoresize/autoresize.js"></script>

    </head>
    <body>
        <div id="personaMain">
            <h1>{{header}}</h1>
            <button v-on:click="createPersona">Add Persona</button>
            <button v-on:click="addAttr()">Add Attribute</button>


            <div id="workarea">
                <article class="page flex flex-row flex-wp" v-for="(person, index) in people">
                    <button v-on:click="randomizeUser(index)">Randomize User</button>
                    <button v-on:click="deletePersona(index)">Delete Persona</button>
                        <section class="face-and-name flex flex-row flex-sp-ar flex-al-cn">
                            <input v-model="person.name" class="tx-tf-uc" />
                            <img :src="person.pics" class="persona-pic"/>
                            <input v-model="person.title" class="tx-tf-uc title" />
                        </section>
                        <section class="bio">
                            <input v-model="notes" class="h3" />
                            <textarea class="bio-textarea attr">
                                {{person.notes}}
                            </textarea>
                        </section>

                        <section class="goals half">
                            <div class="section-header flex flex-row flex-al-cn">
                                <div class="header-buffer"></div>
                                <input v-model="ol1" class="h3 section-title" />
                                <div class="header-buffer"></div>
                            </div>
                            <span v-for="(item, index) in person.ol1" class="flex flex-row flex-sp-ar flex-al-cn">
                                <input
                                    v-model="person.ol1[index]"
                                    @keydown.enter="addItem(person.ol1)"
                                    @keydown.delete="removeItem(person.ol1, index, $event)"
                                    class="attr"
                                    />
                            </span>
                       </section>
                   </span>
                        <section class="fears half">
                            <input v-model="ol2" class="h3" />
                            <span v-for="(fear, index) in person.ol2" class="flex flex-row flex-sp-ar flex-al-cn">
                                <input
                                    v-model="person.ol2[index]"
                                    @keydown.enter="addItem(person.ol2)"
                                    @keydown.delete="removeItem(person.ol2, index, $event)"
                                    class="attr"
                                    />
                            </span>
                        </section>
                        <section class="attributes flex flex-row flex-wp">
                            <h3 class="wide">Attributes</h3>
                            <span v-for="(attr, attrIndex) in attributes" v-if="attr">
                                <input v-model="attr.title" />{{person.attributes[attrIndex].range}}<button v-on:click="removeAttr(attrIndex)">Remove Attribute</button>
                                    <input type="range" min=0 max=5 v-model="person.attributes[attrIndex].range" range="" />
                                    <!-- <p>{{attr.notes}}</p> -->
                            </span>
                        </section>
                        <br class="page-break" />
                </article>
            </div>
        </div>

    <script src="js/app.js"></script>
    </body>
</html>
